
<!------------- Modal code --------------------- -->

<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title"></h4>
          <button type="button" class="close" data-dismiss="modal" (click)="mclose()">&times;</button>
          <h4 class="modal-title"></h4>
        </div>
        <div class="modal-body">

            <div *ngIf='loadf'>
              <img src="assets/load.gif" style="padding-left: 378px;"/>
              </div>

      <!--    [ngClass]="x.etype == 'error' ? 'card-header bg-danger text-white': x.etype == 'success' ?  'card-header bg-success text-white' : 'card-header bg-warning text-white'" -->
          <div *ngIf='!loadf'>
           <div [ngClass]="(gtype== 'success')&&(appdata[0].Flag==0) ? 'panel panel-success': gtype=='error'?'panel panel-danger' : 'panel panel-info'">
      <div class="panel-heading">Appserver Monitoring</div>
      <div class="panel-body">
<table class="table table-striped"  style="font-size:12px;" *ngIf='gtype'>
    <thead>
      <tr>
         <th>Client Name</th>
        <th>Server Name</th>
        <th>Domain Name</th>
       <th> Staus</th>
      </tr>
    </thead>
    <tbody *ngFor="let item of appdata[0].Data">
      <tr *ngIf="gtype=='success' && item.status=='UP'" >
        <td>{{appdata[0].Client}}</td>
        <td>{{appdata[0].servername}}</td>
        <td>{{item.Domain}}</td>
         <td ><span style="color:#68ae00" *ngIf="item.status=='UP'">{{item.status}}   <span class="glyphicon glyphicon-upload"></span></span>
      <span style="color:red" *ngIf="item.status=='Down'">{{item.status}}   <span class="glyphicon glyphicon-download"></span></span></td>
      
      </tr>
     
    </tbody>
    <tbody *ngFor="let item of appdata[0].Data">
      <tr *ngIf="gtype=='error' && item.status=='Down'" >
        <td>{{appdata[0].Client}}</td>
        <td>{{appdata[0].servername}}</td>
        <td>{{item.Domain}}</td>
         <td ><span style="color:#68ae00" *ngIf="item.status=='UP'">{{item.status}}   <span class="glyphicon glyphicon-upload"></span></span>
      <span style="color:red" *ngIf="item.status=='Down'">{{item.status}}   <span class="glyphicon glyphicon-download"></span></span></td>
      
      </tr>
     
    </tbody>
     <tbody *ngFor="let item of appdata[0].Data">
      <tr *ngIf="gtype=='all'">
        <td>{{appdata[0].Client}}</td>
        <td>{{appdata[0].servername}}</td>
        <td>{{item.Domain}}</td>
         <td ><span style="color:#68ae00" *ngIf="item.status=='UP'">{{item.status}}   <span class="glyphicon glyphicon-upload"></span></span>
      <span style="color:red" *ngIf="item.status=='Down'">{{item.status}}   <span class="glyphicon glyphicon-download"></span></span></td>
      
      </tr>
     
    </tbody>
  </table>

  









      </div>
    </div>
        </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal" (click)="mclose()">Close</button>
        </div>
      </div>
    </div>
    </div>
  

  <!----------------------------------------------------- -->

<!------------- PRCS MODAL code --------------------- -->

<div class="modal fade" id="prcs" role="dialog">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title"></h4>
        <button type="button" class="close" data-dismiss="modal" (click)="mcloseprcs()">&times;</button>
        <h4 class="modal-title"></h4>
      </div>
      <div class="modal-body">

          <div *ngIf='loadf'>
            <img src="assets/load.gif" style="padding-left: 378px;"/>
            </div>

    <!--    [ngClass]="x.etype == 'error' ? 'card-header bg-danger text-white': x.etype == 'success' ?  'card-header bg-success text-white' : 'card-header bg-warning text-white'" -->
        <div *ngIf='!loadf'>
         <div [ngClass]="(prcf== 0) ? 'panel panel-success': prcf==1 ? 'panel panel-danger' : 'panel panel-info'">
    <div class="panel-heading">Process Scheduler</div>
    <div class="panel-body">
<table class="table table-striped"  style="font-size:12px;" >
  <thead>
    <tr>
       <th>Client Name</th>
      <th>Server Name</th>
      <th>Domain Name</th>
     <th> Status</th>
    </tr>
  </thead>
  <tbody *ngFor="let item of prcsdata | pfilter : prcf ">
    <tr *ngFor="let d of item.Data" >
      <td>{{item.Client}}</td>
      <td>{{item.servername}}</td>
      <td>{{item.Domain}}</td>
       <td ><span style="color:#68ae00" *ngIf="d.PRCSNAME">{{d.PRCSNAME}}   <span class="glyphicon glyphicon-upload"></span></span>
    <span style="color:red" *ngIf="!d.PRCSNAME">Down <span class="glyphicon glyphicon-download"></span></span></td>
    
    </tr>
   
  </tbody>
  <!--<tbody *ngFor="let item of appdata[0].Data">
    <tr *ngIf="gtype=='error' && item.status=='Down'" >
      <td>{{appdata[0].Client}}</td>
      <td>{{appdata[0].servername}}</td>
      <td>{{item.Domain}}</td>
       <td ><span style="color:#68ae00" *ngIf="item.status=='UP'">{{item.status}}   <span class="glyphicon glyphicon-upload"></span></span>
    <span style="color:red" *ngIf="item.status=='Down'">{{item.status}}   <span class="glyphicon glyphicon-download"></span></span></td>
    
    </tr>
   
  </tbody>
   <tbody *ngFor="let item of appdata[0].Data">
    <tr *ngIf="gtype=='all'">
      <td>{{appdata[0].Client}}</td>
      <td>{{appdata[0].servername}}</td>
      <td>{{item.Domain}}</td>
       <td ><span style="color:#68ae00" *ngIf="item.status=='UP'">{{item.status}}   <span class="glyphicon glyphicon-upload"></span></span>
    <span style="color:red" *ngIf="item.status=='Down'">{{item.status}}   <span class="glyphicon glyphicon-download"></span></span></td>
    
    </tr>
   
  </tbody>-->
</table>
<button type="button" class="btn btn-success" data-toggle="collapse" data-target="#demo" (click)="moreprc(prcsdata[0].servername)">+More Info</button>

<div id="demo" class="collapse" style="padding-top: 9px;">
<div class="panel panel-info">
  <div class="panel-heading">PRCS Master Schedulers</div>
  <div class="panel-body">

    <table class="table table-striped"  style="font-size:12px;" >
      <thead>
        <tr>
          <th>Server Name</th>
          <th>Domain Name</th>
         <th> Master Process Scheduler</th>
        </tr>
      </thead>
      <tbody *ngFor="let item of moreprcsinfo | pipef : 'Master'">
        <tr *ngFor="let d of item.Data" >
          
          <td>{{item.servername}}</td>
          <td>{{item.Domain}}</td>
           <td ><span style="color:#68ae00" *ngIf="d.SERVERNAME">{{d.SERVERNAME}}   <span class="glyphicon glyphicon-upload"></span></span>
        <span style="color:red" *ngIf="!d.SERVERNAME">Master Not found <span class="glyphicon glyphicon-download"></span></span></td>
        
        </tr>
       
      </tbody>
      </table>


  </div>
</div>
</div>






    </div>
  </div>
      </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" (click)="mcloseprcs()">Close</button>
      </div>
    </div>
  </div>
  </div>


<!----------------------------------------------------- -->
<!-----------------Start DB modal ------------------------- -->


<div class="modal fade" id="dbase" role="dialog">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title"></h4>
        <button type="button" class="close" data-dismiss="modal" (click)="mcloseprcs()">&times;</button>
        <h4 class="modal-title"></h4>
      </div>
      <div class="modal-body">

          <div *ngIf='loadf'>
            <img src="assets/load.gif" style="padding-left: 378px;"/>
            </div>

    <!--    [ngClass]="x.etype == 'error' ? 'card-header bg-danger text-white': x.etype == 'success' ?  'card-header bg-success text-white' : 'card-header bg-warning text-white'" -->
        <div *ngIf='!loadf'>
      
            <div class='panel panel-info'>
    <div class="panel-heading">Database Monitoring</div>
    <div class="panel-body">
      

<!--
<button type="button" class="btn btn-success" data-toggle="collapse" data-target="#demo" (click)="moreprc(prcsdata[0].servername)">+More Info</button>

<div id="demo" class="collapse" style="padding-top: 9px;">
<div class="panel panel-info">
  <div class="panel-heading">PRCS Master Schedulers</div>
  <div class="panel-body">

  <!--  <table class="table table-striped"  style="font-size:12px;" >
      <thead>
        <tr>
          <th>Server Name</th>
          <th>Domain Name</th>
         <th> Master Process Scheduler</th>
        </tr>
      </thead>
      <tbody *ngFor="let item of moreprcsinfo">
        <tr *ngFor="let d of item.Data" >
          
          <td>{{item.servername}}</td>
          <td>{{item.Domain}}</td>
           <td ><span style="color:#68ae00" *ngIf="d.SERVERNAME">{{d.SERVERNAME}}   <span class="glyphicon glyphicon-upload"></span></span>
        <span style="color:red" *ngIf="!d.SERVERNAME">Master Not found <span class="glyphicon glyphicon-download"></span></span></td>
        
        </tr>
       
      </tbody>
      </table>


  </div>
</div>
</div>

-->




    </div>
  </div>
      </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" (click)="mcloseprcs()">Close</button>
      </div>
    </div>
  </div>
  </div>


<!----------------------------------------------------- -->


<!------------------------------------------End of db Modal ------------------ -->
<div class="row" style="padding-left: 15px;
    padding-right: 17px;">
  <div class='col-xs-12'>

<div class="panel panel-default">
  <div class="panel-heading">AppServer Monitor</div>
  <div class="panel-body">
    <div class="row">
                      <div class="col-xs-3">
                 <div class="panel panel-info">
    <div class="panel-heading">
    App Server 
  </div>
  <div class="card-body">
     <ul class="list-group" >
 <!-- <li class="list-group-item d-flex justify-content-between align-items-center">
    Success 
    <span class="badge badge-success badge-pill" style="background-color: #68ae00;cursor:pointer" data-toggle="modal" data-target="#myModal" (click)="openc('success')" >{{appserverm[2].success}}</span>
  <!--<button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Open Large Modal</button></li>-->
   <li class="list-group-item d-flex justify-content-between align-items-center">
    Warning 
    <span class="badge badge-warning badge-pill" style="background-color: #f4cb36;cursor:pointer" >0</span>
  </li>
  <li class="list-group-item d-flex justify-content-between align-items-center">  
   Error
   <span class="badge badge-primary badge-pill" style="background-color: red;cursor:pointer" data-toggle="modal" data-target="#myModal" (click)="openc('error')">{{appserverm[0].error}}</span>
 </li>
  <li class="list-group-item d-flex justify-content-between align-items-center">
   Total Target Monitored 
    <span class="badge badge-primary badge-pill" data-toggle="modal" data-target="#myModal" (click)="openc('all')">{{appserverm[1].total}}</span>
  </li>
</ul>
  </div>
  
  
</div></div>
 <div class="col-xs-3">
                <div class="panel panel-info">
    <div class="panel-heading">
    ProcessScheduler
  </div>
  
  <div class="card-body">
     <ul class="list-group">
 <!-- <li class="list-group-item d-flex justify-content-between align-items-center">
    Success
    <span class="badge badge-success badge-pill" style="background-color: #68ae00;cursor:pointer" data-toggle="modal" data-target="#prcs" (click)="openprcs(0)">{{prcsc[2].success}}</span>
  </li>-->
  <li class="list-group-item d-flex justify-content-between align-items-center">
    Warning
    <span class="badge badge-warning badge-pill" style="background-color: #f4cb36;">0</span>
  </li>
  <li class="list-group-item d-flex justify-content-between align-items-center">
   Error
    <span class="badge badge-primary badge-pill" style="background-color: red; cursor:pointer" data-toggle="modal" data-target="#prcs" (click)="openprcs(1)">{{prcsc[0].error}}</span>
  </li>
  <li class="list-group-item d-flex justify-content-between align-items-center">
   Total Target Monitored
    <span class="badge badge-primary badge-pill" style="cursor:pointer" data-toggle="modal" data-target="#prcs" (click)="openprcs(3)" >{{prcsc[1].total}}</span>
  </li>
</ul>
  </div>
  
  
</div></div>

<!------------------------------------------------Processscheduler------------------------ -->

<div class="col-xs-3">
                 <div class="panel panel-info">
    <div class="panel-heading">
    Webserver 
  </div>
  <div class="card-body">
     <ul class="list-group">
  <!--<li class="list-group-item d-flex justify-content-between align-items-center">
    Success 
    <span class="badge badge-success badge-pill" style="background-color: #68ae00;">14</span>
  </li>-->
  <li class="list-group-item d-flex justify-content-between align-items-center">
    Warning
    <span class="badge badge-warning badge-pill" style="background-color: #f4cb36;">2</span>
  </li>
  <li class="list-group-item d-flex justify-content-between align-items-center">
   Error
    <span class="badge badge-primary badge-pill" style="background-color: red;">1</span>
  </li>
  <li class="list-group-item d-flex justify-content-between align-items-center">
   Total Target Monitored
    <span class="badge badge-primary badge-pill" >1</span>
  </li>
</ul>
  </div>
  
  
</div></div>
<!----------------------------------- database -------------------------------->
         <div class="col-xs-3">
                 <div class="panel panel-info">
    <div class="panel-heading">
    Database
  </div>
  <div class="card-body">
     <ul class="list-group">
<!--  <li class="list-group-item d-flex justify-content-between align-items-center">
    Success 
    <span class="badge badge-success badge-pill" style="background-color: #68ae00;">14</span>
  </li>-->
  <li class="list-group-item d-flex justify-content-between align-items-center">
    Warning
    <span class="badge badge-warning badge-pill" style="background-color: #f4cb36;" data-toggle="modal" data-target="#dbase" (click)="opendbase(3)">2</span>
  </li>
  <li class="list-group-item d-flex justify-content-between align-items-center">
   Error
    <span class="badge badge-primary badge-pill" style="background-color: red;">0</span>
  </li>
  <li class="list-group-item d-flex justify-content-between align-items-center">
   Total Target Monitored
    <span class="badge badge-primary badge-pill" >1</span>
  </li>
</ul>
  </div>
  
  
</div></div>







  </div>
</div>


  </div>
  </div>



  